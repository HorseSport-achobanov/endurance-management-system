@using NTS.Judge.Blazor.Shared.Components.SidePanels.RFID

@inherits NComponent

<MudStack Class="ma-6">
    @if (!CoreBehind.IsStarted)
    {
        <NButtonPrimary OnClick="Start" Text="Start Endurance Event" />
    }
    else
    {
        <RfidPanel EnduranceEventStarted="CoreBehind.IsStarted" />
    }
</MudStack>

@code {
    [Inject]
    ICoreBehind CoreBehind { get; set; } = default!;

    public async void Start()
    {
        // TODO make sure that DashboardPage, RanklistPage and HandoutsPage rerender if active
        await CoreBehind.Start();
        await Render();
    }
}
