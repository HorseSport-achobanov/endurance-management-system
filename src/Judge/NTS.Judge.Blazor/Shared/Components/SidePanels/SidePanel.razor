@using NTS.Judge.Blazor.Shared.Components.SidePanels.RFID

@inherits NComponent

<MudStack Class="ma-6">
    @if (!CoreBehind.IsStarted)
    {
        <NButtonPrimary OnClick="Start" Text="Start Endurance Event" />
    }
    else
    {
        <RfidPanel EnduranceEventStarted="CoreBehind.IsStarted" />
    }
</MudStack>

@code {
    [Inject]
    ICoreBehind CoreBehind { get; set; } = default!;

    protected override async Task OnInitializedAsync()
    {
        await Observe(CoreBehind);
    }

    public async void Start()
    {
        await CoreBehind.Start();
    }
}
