@using NTS.Domain.Setup.Aggregates
@using Not.Blazor.CRUD.Forms.Components
@using Not.Extensions
@using Not.Structures

@inherits NForm<CompetitionFormModel>;

<EditForm Model="Model">
    <MudTextField @ref="_nameField" @bind-Value="Model.Name" Label="@Localizer.Get("Name")" />

    <NSelect @ref="_rulesetField" Label="Ruleset" @bind-Value="Model.Ruleset" Items="_competitionRules" />

    <NSelect @ref="_typeField" Label="Type" @bind-Value="Model.Type" Items="_competitionTypes" />

    <MudDatePicker @ref="_dayField" @bind-Date="Model.Day" Label="@Localizer.Get("Date")" ImmediateText="true"/>

    <MudTimePicker @ref="_timeField" @bind-Time="Model.Time" Label="@Localizer.Get("Time")" ImmediateText="true"/>

    <NSwitch @bind-Value="Model.UseCompulsoryThreshold" Label="Use automatic CRI" />

    @if (Model.UseCompulsoryThreshold)
    {
        <MudNumericField @ref="_requiredInspectionCompulsoryThreshold" @bind-Value="Model.CompulsoryThresholdMinutes" />
    }
</EditForm>
