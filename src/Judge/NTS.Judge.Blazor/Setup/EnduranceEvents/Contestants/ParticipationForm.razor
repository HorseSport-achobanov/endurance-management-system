@using NTS.Domain.Setup.Aggregates
@using Not.Blazor.CRUD.Forms.Components
@using Not.Blazor.CRUD.Lists.Ports
@using Not.Structures
@using Not.Extensions

@inherits NForm<ParticipationFormModel>;

<EditForm Model="Model">
    <NAutocomplete @ref="_combinationField" T="Combination" Label="Combination" @bind-Value="Model.Combination"
        Search="SearchCombinations" />

    <NSwitch @ref="_isNotRankedField" @bind-Value="Model.IsNotRanked" Label="Unranked" />

    <NSwitch @bind-Value="_overrideStartTime" Label="Override Start Time"/>

    @if (_overrideStartTime)
    {
        <MudTimePicker @ref="_timeField" @bind-Time="Model.StartTimeOverride" ShowToolbar="false" Label="Start Time" />
    }

    <NSwitch @bind-Value="_overrideMaxSpeed" Label="Override Max Speed" />

    @if (_overrideMaxSpeed)
    {
        <MudNumericField @ref="_maxSpeedOverrideField" @bind-Value="Model.MaxSpeedOverride" Label="Max speed penalty" Variant="Variant.Text" />
    }
</EditForm>
