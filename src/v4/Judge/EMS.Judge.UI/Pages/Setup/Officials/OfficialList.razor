@using EMS.Domain.Setup.Entities;
@using Not.Application;
@using Not.Services;

@inherits NotComponent
<MudText Typo="Typo.h5">
    @Localizer.Get("Officials")
</MudText>

<MudTable Items="_parentBehind.Children" Hover="true">
    <HeaderContent>
        <MudTh>Staff</MudTh>
        <MudTh>Actions</MudTh>
    </HeaderContent>

    <RowTemplate>
        <MudTd DataLabel="Staff">@context</MudTd>
        <MudTd DataLabel="Actions">
            <MudButton Variant="Variant.Outlined"
                        IconSize="Size.Small"
                        StartIcon="@Icons.Material.Filled.Delete"
                        Color="Color.Warning"
                        OnClick="() => _parentBehind.Delete(context)">
                @Localizer.Get("Remove")
            </MudButton>

            <MudButton Variant="Variant.Filled"
                        IconSize="Size.Small"
                        StartIcon="@Icons.Material.Filled.Update"
                        Color="Color.Primary" 
                        OnClick="() => this._officialNavigator.Update(OFFICIAL_PAGE, context)">
                @Localizer.Get("Update")
            </MudButton>
        </MudTd>
    </RowTemplate>
        
</MudTable>

<MudButton Variant="Variant.Filled" Color="Color.Primary" OnClick="_officialNavigator.Create">
    @Localizer.Get("Add")
</MudButton>

@code {
    [Inject]
    public INotBehindParent<Official> _parentBehind { get; set; } = default!;
    [Inject]
    public IFormNavigator<Official, OfficialFields> _officialNavigator { get; set; } = default!;
}