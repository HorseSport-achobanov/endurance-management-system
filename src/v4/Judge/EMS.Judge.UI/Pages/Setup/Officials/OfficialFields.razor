@using EMS.Domain.Setup.Entities;
@using EMS.Judge.Setup.Officials;
@using Not.Blazor.Forms;
@inherits NotFormFields<IOfficialFields>;

<MudCardContent>
    <MudTextField Label="Place" @ref="_nameField" @bind-Value="_model.Name" For="@(() => _model.Name)" />
</MudCardContent>

<MudCardContent>
    <MudSelect Label="Role" @ref="_roleFiled" @bind-Value="_model.Role">
        @foreach (var item in Enum.GetValues<OfficialRole>())
        {
            <MudSelectItem Value="@item">@item</MudSelectItem>
        }
    </MudSelect>
</MudCardContent>

@code {
    private MudTextField<string> _nameField = default!;
    private MudSelect<OfficialRole> _roleFiled = default!;

    protected override void OnInitialized()
    {
        RegisterInjector(nameof(IOfficialFields.Name), () => _nameField);
        RegisterInjector(nameof(IOfficialFields.Role), () => _roleFiled);
    }

    private IOfficialFields _model => (IOfficialFields)Model;
}
