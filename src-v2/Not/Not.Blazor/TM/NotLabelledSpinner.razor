@using Not.Blazor.Components

@inherits NotComponent

<MudStack Spacing="Gap">
    <MudProgressCircular Class="align-self-center" Color="Color.Primary" Size="@Size" Indeterminate="true" />
    <MudText Class="@_labelClass" Typo="Typo.overline" Color="Color.Primary">
        @Localizer.Get(Label)
    </MudText>
</MudStack>

@code {
    /// <summary>
    /// Sets the vertical distance between the Spinner and the Label. Default value is 0.
    /// </summary>
    [Parameter]
    public int Gap { get; set; } = 0;
    /// <summary>
    /// Sets a negative margin-top of the Label. Allows you to overlap the Label and the Spinner. Default value is 0.
    /// </summary>
    [Parameter]
    public int NMargin { get; set; } = 0;
    /// <summary>
    /// Configures the Size of the Spinner. Default value is Size.Medium.
    /// </summary>
    [Parameter]
    public Size Size { get; set; } = Size.Medium; 
    [Parameter]
    public string Label { get; set; } = default!;

    private string _labelClass { get; set; }

    protected override void OnParametersSet()
    {
        _labelClass = "spinner-label align-self-center mt-n" + NMargin;
    }
}
