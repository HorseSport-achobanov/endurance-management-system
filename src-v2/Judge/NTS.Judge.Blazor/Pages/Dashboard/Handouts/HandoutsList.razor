@using NTS.Domain.Core.Objects
@using NTS.Judge.Blazor.Pages.Dashboard.Components
@using NTS.Judge.Blazor.Ports

@inherits NotComponent

<MudStack>
    @foreach (var document in Documents!)
    {
        var header = document.Header;
        <MudItem>
            <MudItem Class="d-flex flex-row">
                <MudItem Class="mr-4">
                    <MudStack Style="height:100%; max-width:300px">
                        <NotH2>@header.Title</NotH2>
                        <NotH3>@($"{header.PopulatedPlace} {header.EventSpan}")</NotH3>
                        <MudDivider Style="flex-grow:0;" />
                        @* //TODO: fix role display for officials*@
                        @if (header.PresidentGroundJury != null)
                        {
                            <MudText Typo="Typo.body2">@header.PresidentGroundJury</MudText>
                        }
                        @if (header.PresidentVet != null)
                        {
                            <MudText Typo="Typo.body2">@header.PresidentVet</MudText>
                        }
                        @if (header.FeiVetDelegate != null)
                        {
                            <MudText Typo="Typo.body2">@header.FeiVetDelegate</MudText>
                        }
                        @if (header.FeiTechDelegate != null)
                        {
                            <MudText Typo="Typo.body2">@header.FeiTechDelegate</MudText>
                        }
                        @if (header.ActiveVet != null)
                        {
                            <MudText Typo="Typo.body2">@header.ActiveVet</MudText>
                        }
                        @if (header.ForeignJudge != null)
                        {
                            <MudText Typo="Typo.body2">@header.ForeignJudge</MudText>
                        }
                        <MudSpacer />

                        <MudItem Class="d-flex flex-row">
                            <MudImage Src="images/logo-bfks.JPG" />
                            <MudImage Src="images/logo-fei.JPG" />
                        </MudItem>
                    </MudStack>
                </MudItem>

                <MudItem>
                    <MudText Typo="Typo.h5">@($"{document.Tandem.Number} {document.Tandem.Name}, {document.Tandem.Horse}")</MudText>
                    <ParticipationTable Phases="document.Phases" />
                </MudItem>
            </MudItem>
        </MudItem>

        <MudDivider />
    }
</MudStack>

@code {
    [Parameter]
    public IEnumerable<HandoutDocument>? Documents { get; set; } = null;
}
