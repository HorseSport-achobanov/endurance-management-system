@using NTS.Domain.Core.Objects
@using NTS.Judge.Blazor.Ports
@using System.Collections
@using Not.Blazor.TM
@using Not.Extensions

@attribute [Route(STARTLIST_PAGE)]
@inherits NotComponent


<MudTabs Elevation="2" Rounded="true" ApplyEffectsToContainer="true" PanelClass="pa-6">
    <MudTabPanel Text="Upcoming Starts">
        <UpcomingStarts Items="UpcomingStartsList"></UpcomingStarts>
    </MudTabPanel>
    <MudTabPanel Text="Start History">
        <StartlistHistory Items="StartHistoryList"></StartlistHistory>
    </MudTabPanel>
</MudTabs>

@code{
    [Inject]
    private IStartlistBehind _behind { get; set; } = default!;
    private IEnumerable<Start> UpcomingStartsList { get; set; } = new List<Start>();
    private IEnumerable<Start> StartHistoryList { get; set; } = new List<Start>();

    protected override async Task OnInitializedAsync()
    {
        await Observe(_behind);
        UpcomingStartsList = _behind.UpcomingStarts;
        StartHistoryList = _behind.StartHistory;
    }
}