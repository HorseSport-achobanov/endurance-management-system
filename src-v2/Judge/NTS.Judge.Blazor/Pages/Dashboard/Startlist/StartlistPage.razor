@using NTS.Domain.Core.Objects
@using NTS.Judge.Blazor.Ports
@using System.Collections
@using Not.Blazor.TM
@using Not.Extensions

@attribute [Route(STARTLIST_PAGE)]
@inherits NotComponent

<NotPage Elevation="0" Title="Startlist">
    <Main>
        <UpcomingStarts Items="UpcomingStartsList"></UpcomingStarts>
    </Main>
    <Main2>
        <StartlistHistory Items="StartHistoryList"></StartlistHistory>
    </Main2>
</NotPage>

@code{
    [Inject]
    private IStartlistBehind _behind { get; set; } = default!;
    private IEnumerable<Start> UpcomingStartsList { get; set; } = new List<Start>();
    private IEnumerable<Start> StartHistoryList { get; set; } = new List<Start>();

    protected override async Task OnInitializedAsync()
    {
        await Observe(_behind);
        UpcomingStartsList = _behind.Upcoming;
        StartHistoryList = _behind.History;
    }
}