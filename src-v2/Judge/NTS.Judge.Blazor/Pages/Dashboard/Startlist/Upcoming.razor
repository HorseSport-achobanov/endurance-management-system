@using NTS.Domain.Core.Objects
@using NTS.Judge.Blazor.Ports
@using System.Collections
@using Not.Blazor.TM
@using Not.Blazor.TM.Models
@using Not.Extensions

@inherits StartlistTable

<MudTabs @ref="@_tabs" PanelClass="px-4 py-6" Elevation="4" Rounded ApplyEffectsToContainer Class="@Class">
    @foreach (var tabHeader in _tabHeaders)
    {
        <MudTabPanel Text="@tabHeader">
            <ChildContent>
                <NotSimpleTable T="Start" Headings="@_tableHeadings" Items="Starts.Where(s=>tabHeader.Contains(s.PhaseNumber.ToString()))">
                    <CustomCell>
                        <StartlistTimer StartTime="@context.StartAt" StopTimerAtTime="-15" />
                    </CustomCell>
                </NotSimpleTable>
                </ChildContent>
        </MudTabPanel>
    }
</MudTabs>

@code{
    protected string[] _tableHeadings = { "Number", "Athlete", "Loop", "Start Time", "Start In" };
}