@using NTS.Domain.Setup.Entities
@using NTS.Judge.Blazor.Ports
 
@attribute [Route(DASHBOARD_PAGE)]
@inherits NotComponent

<NotH1>@Localizer.Get("Dashboard")</NotH1>

@code {
    [Inject]
    private IEventBehind  _initializer { get; set; } = default!;
    [Inject]
    private INotBehind<Event>  _eventBehind { get; set; } = default!;

    protected override async Task OnInitializedAsync()
    {
        var @event = Event.Create("Place", new Domain.Objects.Country("BGN", "Bulgaria"));
        var president = Official.Create("Name Name", Domain.Enums.OfficialRole.PresidentGroundJury);
        var vet = Official.Create("Two Two", Domain.Enums.OfficialRole.PresidentVet);
        @event.Add(president);
        @event.Add(vet);
        await _eventBehind.Create(@event);
        await _initializer.Start();
    }
}
