@using NTS.Domain.Core.Aggregates.Participations
@using NTS.Judge.Blazor.Enums
@using NTS.Judge.Blazor.Ports
@using System.Diagnostics

@inherits EliminationForm

<MudTextField @bind-Value="_reason" Label="Reason" Variant="Variant.Outlined"></MudTextField>

<EliminationFormActions Form="this" />

@code {
    string? _reason;

    [Parameter]
    public FinishedNotRanked? FinishedNotRanked { get; set; } = default!;

    protected override void OnParametersSet()
    {
        _reason = FinishedNotRanked?.Complement;
    }

    protected override async Task EliminateAction()
    {
        //TO DO: Validate for null Reason
        await _participationBehind.FinishNotRanked(_reason);
        await OnEliminate.InvokeAsync();
    }
}