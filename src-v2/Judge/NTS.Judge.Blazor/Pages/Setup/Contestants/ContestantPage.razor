@using NTS.Domain.Setup.Entities;
@using Not.Blazor.Components;
@using Not.Blazor.Navigation;
@using Not.Blazor.TM.Forms.Components

@attribute [Route(CONTESTANT_PAGE)]
@inherits NotComponent

    @if (_parentBehind.Children.Any())
    {
        <div>ГЪЗЕ</div>
        //<ContestantGrid/>
    }@* else{
        <MudPaper Elevation="0">
            <div class="pa-6">
                <NotH2>@Localizer.Get("Contestants")</NotH2>
                <NotButtonCreate OnClick="_contestantNavigator.Create" Class="toolbar-button" />
                <p>@Localizer.Get("No contestants have been created for this event.")</p>
            </div>
        </MudPaper>
    } *@

@code {
    [Inject]
    private INotBehindParent<Contestant> _parentBehind { get; set; } = default!;
    [Inject]
    private IFormNavigator<Contestant, ContestantForm> _contestantNavigator { get; set; } = default!;
    [Inject]
    private INavigator _navigator { get; set; } = default!;

    protected override async Task OnInitializedAsync()
    {
        
    }

    protected async Task Update(Contestant contestant)
    {
        await _parentBehind.Update(contestant);
        _navigator.NavigateTo(SETUP_PAGE);
    }
}