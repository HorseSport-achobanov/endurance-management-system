@using NTS.Domain.Setup.Entities;
@using Not.Services;

@inherits NotComponent

<NotH2>@Localizer.Get("Competitions")</NotH2>

<MudTable Items="_parentBehind.Children" Hover="true">
    <HeaderContent>
        <MudTh>Name</MudTh>
        <MudTh>Competition Type</MudTh>
        <MudTh>Start Time</MudTh>
    </HeaderContent>

    <RowTemplate>
        <MudTd>@context</MudTd>

        <MudTd>
            <NotButtonDelete OnClick="() => _parentBehind.Delete(context)" />

            <NotButtonUpdate OnClick="() => this._competitionNavigator.Update(COMPETITION_PAGE, context)" />
        </MudTd>
    </RowTemplate>

</MudTable>

<NotButtonCreate OnClick="_competitionNavigator.Create" />

@code {
    [Inject]
    private INotBehindParent<Competition> _parentBehind { get; set; } = default!;
    [Inject]
    private IFormNavigator<Competition, CompetitionForm> _competitionNavigator { get; set; } = default!;
}